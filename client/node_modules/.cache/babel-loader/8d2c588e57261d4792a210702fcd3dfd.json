{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dee\\\\Desktop\\\\test-deploy\\\\client\\\\src\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Navbar, Container, Nav, NavDropdown } from 'react-bootstrap';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport Search from './Search';\nimport axios from 'axios';\nimport { Route } from 'react-router-dom';\nimport logo from '../images/bzar1.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const [categories, setCategories] = useState([]);\n  const {\n    user\n  } = useContext(AuthContext);\n  const history = useHistory();\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  async function fetchCategories() {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/categories`);\n      setCategories(res.data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const handleLogout = async () => {\n    localStorage.removeItem(`user`);\n    window.location.href = `/`;\n  };\n\n  const handleDropdownItem = e => {\n    const keyword = e.target.innerText;\n    history.replace(`/products/${keyword}`, `/${keyword}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      collapseOnSelect: true,\n      expand: \"lg\",\n      variant: \"light\",\n      style: {\n        background: 'teal'\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            style: {\n              width: '140px',\n              objectFit: 'cover',\n              height: '60px'\n            },\n            alt: \"bazaar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n          \"aria-controls\": \"responsive-navbar-nav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          id: \"responsive-navbar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(Nav, {\n            className: \"me-auto\",\n            style: {\n              color: 'var(--color-main)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(NavDropdown, {\n              title: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'var(--color-light)'\n                },\n                children: \"Categories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 24\n              }, this),\n              id: \"nav-dropdown\",\n              children: categories.map(category => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                    onClick: e => handleDropdownItem(e),\n                    style: {\n                      color: 'var(--color-main)'\n                    },\n                    children: [' ', category.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 23\n                  }, this)\n                }, category._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/Info\",\n              style: {\n                color: 'var(--color-light)'\n              },\n              children: \"Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), user && /*#__PURE__*/_jsxDEV(Nav.Link, {\n            href: \"/products/add\",\n            id: \"add-product-link\",\n            style: {\n              color: 'var(--color-light)'\n            },\n            children: \"Add product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Nav, {\n            children: [user ? /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: `/account`,\n              style: {\n                color: 'var(--color-light)'\n              },\n              children: \"My Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/signup\",\n              style: {\n                color: 'var(--color-light)'\n              },\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), user ? /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/\",\n              onClick: handleLogout,\n              style: {\n                color: 'var(--color-light)'\n              },\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Nav.Link, {\n              href: \"/signin\",\n              style: {\n                color: 'var(--color-light)'\n              },\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      render: ({\n        history\n      }) => /*#__PURE__*/_jsxDEV(Search, {\n        history: history\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 39\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Header, \"fp9xGfbiZPHO2xh7Pcj6lVpMYKM=\", false, function () {\n  return [useHistory];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/components/Header.js"],"names":["React","useState","useEffect","useContext","Navbar","Container","Nav","NavDropdown","AuthContext","useHistory","Search","axios","Route","logo","Header","categories","setCategories","user","history","fetchCategories","res","get","process","env","REACT_APP_API_URL","data","error","console","log","handleLogout","localStorage","removeItem","window","location","href","handleDropdownItem","e","keyword","target","innerText","replace","background","width","objectFit","height","color","map","category","name","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Navbar, Container, Nav, NavDropdown } from 'react-bootstrap';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Search from './Search';\r\nimport axios from 'axios';\r\nimport { Route } from 'react-router-dom';\r\nimport logo from '../images/bzar1.png';\r\n\r\nconst Header = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  async function fetchCategories() {\r\n    try {\r\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/categories`);\r\n      setCategories(res.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  const handleLogout = async () => {\r\n    localStorage.removeItem(`user`);\r\n    window.location.href = `/`;\r\n  };\r\n\r\n  const handleDropdownItem = (e) => {\r\n    const keyword = e.target.innerText;\r\n    history.replace(`/products/${keyword}`, `/${keyword}`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar collapseOnSelect expand=\"lg\" variant=\"light\" style={{ background: 'teal' }}>\r\n        <Container>\r\n          <Navbar.Brand href=\"/\">\r\n            <img\r\n              src={logo}\r\n              style={{ width: '140px', objectFit: 'cover', height: '60px' }}\r\n              alt=\"bazaar\"\r\n            />\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"me-auto\" style={{ color: 'var(--color-main)' }}>\r\n              <NavDropdown\r\n                title={<span style={{ color: 'var(--color-light)' }}>Categories</span>}\r\n                id=\"nav-dropdown\"\r\n              >\r\n                {categories.map((category) => {\r\n                  return (\r\n                    <div key={category._id}>\r\n                      <NavDropdown.Item\r\n                        onClick={(e) => handleDropdownItem(e)}\r\n                        style={{ color: 'var(--color-main)' }}\r\n                      >\r\n                        {' '}\r\n                        {category.name}\r\n                      </NavDropdown.Item>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </NavDropdown>\r\n              <Nav.Link href=\"/Info\" style={{ color: 'var(--color-light)' }}>\r\n                Info\r\n              </Nav.Link>\r\n            </Nav>\r\n\r\n            {user && (\r\n              <Nav.Link\r\n                href=\"/products/add\"\r\n                id=\"add-product-link\"\r\n                style={{ color: 'var(--color-light)' }}\r\n              >\r\n                Add product\r\n              </Nav.Link>\r\n            )}\r\n\r\n            <Nav>\r\n              {user ? (\r\n                <Nav.Link href={`/account`} style={{ color: 'var(--color-light)' }}>\r\n                  My Account\r\n                </Nav.Link>\r\n              ) : (\r\n                <Nav.Link href=\"/signup\" style={{ color: 'var(--color-light)' }}>\r\n                  Sign Up\r\n                </Nav.Link>\r\n              )}\r\n              {user ? (\r\n                <Nav.Link href=\"/\" onClick={handleLogout} style={{ color: 'var(--color-light)' }}>\r\n                  Sign Out\r\n                </Nav.Link>\r\n              ) : (\r\n                <Nav.Link href=\"/signin\" style={{ color: 'var(--color-light)' }}>\r\n                  Sign In\r\n                </Nav.Link>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      <Route render={({ history }) => <Search history={history} />} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}