{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{Col}from'react-bootstrap';import CardRow from'./CardRow';import{Button}from'react-bootstrap';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AdminPanel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),verifiedProduct=_useState4[0],setVerifiedProduct=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),checkVerified=_useState6[0],setCheckVerified=_useState6[1];useEffect(function(){fetchData();},[checkVerified]);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://localhost:3000/api/v1/products\");case 3:response=_context2.sent;setProducts(response.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return _fetchData.apply(this,arguments);}var pendingProducts=products.filter(function(product){return product.verified===null;});var checkedProducts=products.filter(function(product){return product.verified===true||product.verified===false;});var acceptProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var productID;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:productID=e.target.id;_context.prev=1;_context.next=4;return axios.patch(\"http://localhost:3000/api/v1/products/\".concat(productID)).then(function(response){setVerifiedProduct(response.data);setCheckVerified(verifiedProduct.verified);});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function acceptProduct(_x){return _ref.apply(this,arguments);};}();var isExpert=function isExpert(isVerified,product_id){switch(isVerified){case true:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green',fontWeight:'bold',cursor:'default'},children:\"Verified\"}),/*#__PURE__*/_jsx(Button,{id:product_id,onClick:function onClick(e){return acceptProduct(e);},style:{backgroundColor:'red',color:'white',margin:'0 10px'},children:\"Decline\"})]});case false:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'red',fontWeight:'bold',cursor:'default'},children:\"Not Verified\"}),/*#__PURE__*/_jsx(Button,{id:product_id,onClick:function onClick(e){return acceptProduct(e);},style:{backgroundColor:'green',color:'white',margin:'0 10px'},children:\"Accept\"})]});case null:return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{id:product_id,onClick:function onClick(e){return acceptProduct(e);},style:{backgroundColor:'blue',color:'white',margin:'0 10px'},children:\"Pending Verification ...\"})});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1em'},children:/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"Not Verified\",justify:true,children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"Verified\",title:\"Verified\",children:/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'1em',paddingBottom:'1em'},children:checkedProducts.map(function(product){return/*#__PURE__*/_jsxs(CardRow,{children:[/*#__PURE__*/_jsx(Col,{style:{maxWidth:'100px',padding:'0'},children:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(product._id),style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"img\",{width:100,src:product.images[0],alt:product.title})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold'},children:[\" \",product.title,\" \"]})}),/*#__PURE__*/_jsx(Col,{style:{textAlign:'center'},children:/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold'},children:[\"Price : \",product.price,\"\\u20AC \"]})}),/*#__PURE__*/_jsx(Col,{style:{textAlign:'center'},children:isExpert(product.verified,product._id)})]},product._id);})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"Not Verified\",title:\"Not verified yet\",children:/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'1em',paddingBottom:'1em'},children:pendingProducts.map(function(product){return/*#__PURE__*/_jsxs(CardRow,{children:[/*#__PURE__*/_jsx(Col,{style:{maxWidth:'100px',padding:'0'},children:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(product._id),style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"img\",{width:100,src:product.images[0],alt:product.title})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold'},children:[\" \",product.title,\" \"]})}),/*#__PURE__*/_jsx(Col,{style:{textAlign:'center'},children:/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold'},children:[\"Price : \",product.price,\"\\u20AC \"]})}),/*#__PURE__*/_jsx(Col,{style:{textAlign:'center'},children:isExpert(product.verified,product._id)})]},product._id);})})})]})})});}export default AdminPanel;","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/components/AdminPanel.js"],"names":["React","useState","useEffect","axios","Link","Col","CardRow","Button","Tabs","Tab","AdminPanel","products","setProducts","verifiedProduct","setVerifiedProduct","checkVerified","setCheckVerified","fetchData","get","response","data","console","log","pendingProducts","filter","product","verified","checkedProducts","acceptProduct","e","productID","target","id","patch","then","isExpert","isVerified","product_id","color","fontWeight","cursor","backgroundColor","margin","marginTop","paddingTop","paddingBottom","map","maxWidth","padding","_id","textDecoration","images","title","textAlign","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { Col } from 'react-bootstrap';\r\nimport CardRow from './CardRow';\r\nimport { Button } from 'react-bootstrap';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\n\r\nfunction AdminPanel() {\r\n  const [products, setProducts] = useState([]);\r\n  const [verifiedProduct, setVerifiedProduct] = useState({});\r\n  const [checkVerified, setCheckVerified] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [checkVerified]);\r\n\r\n  async function fetchData() {\r\n    try {\r\n      const response = await axios.get(`http://localhost:3000/api/v1/products`);\r\n      setProducts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const pendingProducts = products.filter((product) => product.verified === null);\r\n  const checkedProducts = products.filter(\r\n    (product) => product.verified === true || product.verified === false,\r\n  );\r\n\r\n  const acceptProduct = async (e) => {\r\n    const productID = e.target.id;\r\n    try {\r\n      await axios.patch(`http://localhost:3000/api/v1/products/${productID}`).then((response) => {\r\n        setVerifiedProduct(response.data);\r\n        setCheckVerified(verifiedProduct.verified);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const isExpert = (isVerified, product_id) => {\r\n    switch (isVerified) {\r\n      case true:\r\n        return (\r\n          <div>\r\n            <span style={{ color: 'green', fontWeight: 'bold', cursor: 'default' }}>Verified</span>\r\n            <Button\r\n              id={product_id}\r\n              onClick={(e) => acceptProduct(e)}\r\n              style={{ backgroundColor: 'red', color: 'white', margin: '0 10px' }}\r\n            >\r\n              Decline\r\n            </Button>\r\n          </div>\r\n        );\r\n      case false:\r\n        return (\r\n          <div>\r\n            <span style={{ color: 'red', fontWeight: 'bold', cursor: 'default' }}>\r\n              Not Verified\r\n            </span>\r\n            <Button\r\n              id={product_id}\r\n              onClick={(e) => acceptProduct(e)}\r\n              style={{ backgroundColor: 'green', color: 'white', margin: '0 10px' }}\r\n            >\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        );\r\n      case null:\r\n        return (\r\n          <div>\r\n            <Button\r\n              id={product_id}\r\n              onClick={(e) => acceptProduct(e)}\r\n              style={{ backgroundColor: 'blue', color: 'white', margin: '0 10px' }}\r\n            >\r\n              Pending Verification ...\r\n            </Button>\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: '1em' }}>\r\n        <Tabs defaultActiveKey=\"Not Verified\" justify>\r\n          <Tab eventKey=\"Verified\" title=\"Verified\">\r\n            <div style={{ paddingTop: '1em', paddingBottom: '1em' }}>\r\n              {checkedProducts.map((product) => {\r\n                return (\r\n                  <CardRow key={product._id}>\r\n                    <Col style={{ maxWidth: '100px', padding: '0' }}>\r\n                      <Link to={`/${product._id}`} style={{ textDecoration: 'none' }}>\r\n                        <img width={100} src={product.images[0]} alt={product.title} />\r\n                      </Link>\r\n                    </Col>\r\n                    <Col>\r\n                      <span style={{ fontWeight: 'bold' }}> {product.title} </span>\r\n                    </Col>\r\n                    <Col style={{ textAlign: 'center' }}>\r\n                      <span style={{ fontWeight: 'bold' }}>Price : {product.price}€ </span>\r\n                    </Col>\r\n                    <Col style={{ textAlign: 'center' }}>\r\n                      {isExpert(product.verified, product._id)}\r\n                    </Col>\r\n                  </CardRow>\r\n                );\r\n              })}\r\n            </div>\r\n          </Tab>\r\n          <Tab eventKey=\"Not Verified\" title=\"Not verified yet\">\r\n            <div style={{ paddingTop: '1em', paddingBottom: '1em' }}>\r\n              {pendingProducts.map((product) => {\r\n                return (\r\n                  <CardRow key={product._id}>\r\n                    <Col style={{ maxWidth: '100px', padding: '0' }}>\r\n                      <Link to={`/${product._id}`} style={{ textDecoration: 'none' }}>\r\n                        <img width={100} src={product.images[0]} alt={product.title} />\r\n                      </Link>\r\n                    </Col>\r\n                    <Col>\r\n                      <span style={{ fontWeight: 'bold' }}> {product.title} </span>\r\n                    </Col>\r\n                    <Col style={{ textAlign: 'center' }}>\r\n                      <span style={{ fontWeight: 'bold' }}>Price : {product.price}€ </span>\r\n                    </Col>\r\n                    <Col style={{ textAlign: 'center' }}>\r\n                      {isExpert(product.verified, product._id)}\r\n                    </Col>\r\n                  </CardRow>\r\n                );\r\n              })}\r\n            </div>\r\n          </Tab>\r\n        </Tabs>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminPanel;\r\n"]},"metadata":{},"sourceType":"module"}