{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ProductList from'./ProductList';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SeeWhatNew=function SeeWhatNew(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];products.sort(function sortProductsByDateDesc(a,b){var dateA=new Date(a.createdAt),dateB=new Date(b.createdAt);return dateB-dateA;});var sortedProductsByDate=products.slice(0,10);useEffect(function(){fetchData();},[]);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/products\"));case 3:response=_context.sent;setProducts(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _fetchData.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center'},children:\"See Whats New\"}),/*#__PURE__*/_jsx(ProductList,{products:sortedProductsByDate})]});};export default SeeWhatNew;","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/components/SeeWhatNew.js"],"names":["React","useState","useEffect","ProductList","axios","SeeWhatNew","products","setProducts","sort","sortProductsByDateDesc","a","b","dateA","Date","createdAt","dateB","sortedProductsByDate","slice","fetchData","get","process","env","REACT_APP_API_URL","response","data","console","log","textAlign"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACAD,QAAQ,CAACE,IAAT,CAAc,QAASC,CAAAA,sBAAT,CAAgCC,CAAhC,CAAmCC,CAAnC,CAAsC,CAClD,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,CAASH,CAAC,CAACI,SAAX,CAAd,CACEC,KAAK,CAAG,GAAIF,CAAAA,IAAJ,CAASF,CAAC,CAACG,SAAX,CADV,CAEA,MAAOC,CAAAA,KAAK,CAAGH,KAAf,CACD,CAJD,EAKA,GAAMI,CAAAA,oBAAoB,CAAGV,QAAQ,CAACW,KAAT,CAAe,CAAf,CAAkB,EAAlB,CAA7B,CACAf,SAAS,CAAC,UAAM,CACdgB,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CARuB,QAWRA,CAAAA,SAXQ,qIAWvB,sLAE2Bd,CAAAA,KAAK,CAACe,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,iBAAzB,cAF3B,QAEUC,QAFV,eAGIhB,WAAW,CAACgB,QAAQ,CAACC,IAAV,CAAX,CAHJ,+EAKIC,OAAO,CAACC,GAAR,cALJ,oEAXuB,4CAmBvB,mBACE,oCACE,WAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAX,2BADF,cAEE,KAAC,WAAD,EAAa,QAAQ,CAAEX,oBAAvB,EAFF,GADF,CAMD,CAzBD,CA0BA,cAAeX,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ProductList from './ProductList';\r\nimport axios from 'axios';\r\n\r\nconst SeeWhatNew = () => {\r\n  const [products, setProducts] = useState([]);\r\n  products.sort(function sortProductsByDateDesc(a, b) {\r\n    const dateA = new Date(a.createdAt),\r\n      dateB = new Date(b.createdAt);\r\n    return dateB - dateA;\r\n  });\r\n  const sortedProductsByDate = products.slice(0, 10);\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n  async function fetchData() {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/products`);\r\n      setProducts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <h2 style={{ textAlign: 'center' }}>See Whats New</h2>\r\n      <ProductList products={sortedProductsByDate} />\r\n    </div>\r\n  );\r\n};\r\nexport default SeeWhatNew;\r\n"]},"metadata":{},"sourceType":"module"}