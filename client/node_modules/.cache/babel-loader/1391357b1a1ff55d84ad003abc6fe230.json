{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dee\\\\Desktop\\\\test-deploy\\\\client\\\\src\\\\pages\\\\ProductsPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport axios from 'axios';\nimport ProductList from '../components/ProductList';\nimport Filters from '../components/Filters';\nimport Category from '../components/Category';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Products = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const [state, setState] = useState(false);\n  const {\n    keyword\n  } = useParams();\n  useEffect(() => {\n    fetchData();\n    fetchDataKeyword();\n  }, [keyword]);\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchDataKeyword = async () => {\n    try {\n      const response = await axios.get(`http://localhost:3000/api/v1/products/searchedProduct/${keyword}`);\n      const {\n        data\n      } = response;\n      setProducts(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(`http://localhost:3000/api/v1/products`);\n      const {\n        data\n      } = response;\n      setState(false);\n      setAllProducts(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const productsByCategory = allProducts.filter(product => product.categories.length > 0 && product.categories[0].name === keyword);\n\n  const handlePriceRange = (lowPrice, highPrice) => {\n    const priceRange = productsByCategory.filter(item => item.price >= Number(lowPrice) && item.price <= Number(highPrice));\n    setState(true);\n    setProducts(priceRange);\n  };\n\n  const handleState = state => {\n    const stateList = productsByCategory.filter(item => item.condition === state);\n    setState(true);\n    setProducts(stateList);\n  };\n\n  const oldNewProducts = () => {\n    const sortedOldNew = productsByCategory.sort(function sortProductsByDateDesc(a, b) {\n      const dateA = new Date(a.createdAt),\n            dateB = new Date(b.createdAt);\n      return dateA - dateB;\n    });\n    setState(true);\n    setProducts(sortedOldNew);\n  };\n\n  const newOldProducts = () => {\n    const sortedNewOld = productsByCategory.sort(function sortProductsByDateDesc(a, b) {\n      const dateA = new Date(a.createdAt),\n            dateB = new Date(b.createdAt);\n      return dateB - dateA;\n    });\n    setState(true);\n    setProducts(sortedNewOld);\n  };\n\n  const handleLocation = location => {\n    const sortedLocation = productsByCategory.filter(item => item.city.toLowerCase() === location.toLowerCase());\n    setState(true);\n    setProducts(sortedLocation);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Filters, {\n      products: productsByCategory,\n      handlePriceRange: handlePriceRange,\n      handleState: handleState,\n      oldNewProducts: oldNewProducts,\n      newOldProducts: newOldProducts,\n      handleLocation: handleLocation,\n      fetchData: fetchData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          md: 4,\n          lg: 3,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Category, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          md: 8,\n          lg: 9,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [products.length === 0 && productsByCategory.length !== 0 && !state && /*#__PURE__*/_jsxDEV(ProductList, {\n              products: productsByCategory\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), products.length !== 0 && productsByCategory.length !== 0 && /*#__PURE__*/_jsxDEV(ProductList, {\n              products: products\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this), products.length !== 0 && !state && /*#__PURE__*/_jsxDEV(ProductList, {\n              products: products\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 51\n            }, this), products.length === 0 && state && /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-center margin-t-3\",\n              children: \"No Items Available \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), products.length === 0 && productsByCategory.length === 0 && /*#__PURE__*/_jsxDEV(ProductList, {\n              products: allProducts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), productsByCategory.length === 0 && products.length === 0 && !state && /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-center margin-t-3\",\n              children: \"No Items Available \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Products, \"QsD0wT0e4+r0341piWnCrUlhQYw=\", false, function () {\n  return [useParams];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/pages/ProductsPage.js"],"names":["React","useState","useEffect","useParams","Container","Col","Row","axios","ProductList","Filters","Category","Products","products","setProducts","allProducts","setAllProducts","state","setState","keyword","fetchData","fetchDataKeyword","response","get","data","error","console","log","productsByCategory","filter","product","categories","length","name","handlePriceRange","lowPrice","highPrice","priceRange","item","price","Number","handleState","stateList","condition","oldNewProducts","sortedOldNew","sort","sortProductsByDateDesc","a","b","dateA","Date","createdAt","dateB","newOldProducts","sortedNewOld","handleLocation","location","sortedLocation","city","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Container, Col, Row } from 'react-bootstrap';\r\n\r\nimport axios from 'axios';\r\nimport ProductList from '../components/ProductList';\r\nimport Filters from '../components/Filters';\r\nimport Category from '../components/Category';\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [state, setState] = useState(false);\r\n  const { keyword } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    fetchDataKeyword();\r\n  }, [keyword]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchDataKeyword = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://localhost:3000/api/v1/products/searchedProduct/${keyword}`,\r\n      );\r\n      const { data } = response;\r\n\r\n      setProducts(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:3000/api/v1/products`);\r\n      const { data } = response;\r\n      setState(false);\r\n      setAllProducts(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const productsByCategory = allProducts.filter(\r\n    (product) => product.categories.length > 0 && product.categories[0].name === keyword,\r\n  );\r\n\r\n  const handlePriceRange = (lowPrice, highPrice) => {\r\n    const priceRange = productsByCategory.filter(\r\n      (item) => item.price >= Number(lowPrice) && item.price <= Number(highPrice),\r\n    );\r\n    setState(true);\r\n    setProducts(priceRange);\r\n  };\r\n\r\n  const handleState = (state) => {\r\n    const stateList = productsByCategory.filter((item) => item.condition === state);\r\n    setState(true);\r\n    setProducts(stateList);\r\n  };\r\n\r\n  const oldNewProducts = () => {\r\n    const sortedOldNew = productsByCategory.sort(function sortProductsByDateDesc(a, b) {\r\n      const dateA = new Date(a.createdAt),\r\n        dateB = new Date(b.createdAt);\r\n      return dateA - dateB;\r\n    });\r\n    setState(true);\r\n    setProducts(sortedOldNew);\r\n  };\r\n\r\n  const newOldProducts = () => {\r\n    const sortedNewOld = productsByCategory.sort(function sortProductsByDateDesc(a, b) {\r\n      const dateA = new Date(a.createdAt),\r\n        dateB = new Date(b.createdAt);\r\n      return dateB - dateA;\r\n    });\r\n    setState(true);\r\n    setProducts(sortedNewOld);\r\n  };\r\n\r\n  const handleLocation = (location) => {\r\n    const sortedLocation = productsByCategory.filter(\r\n      (item) => item.city.toLowerCase() === location.toLowerCase(),\r\n    );\r\n    setState(true);\r\n    setProducts(sortedLocation);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Filters\r\n        products={productsByCategory}\r\n        handlePriceRange={handlePriceRange}\r\n        handleState={handleState}\r\n        oldNewProducts={oldNewProducts}\r\n        newOldProducts={newOldProducts}\r\n        handleLocation={handleLocation}\r\n        fetchData={fetchData}\r\n      />\r\n\r\n      <Container>\r\n        <Row>\r\n          <Col xs={12} md={4} lg={3}>\r\n            <div>\r\n              <Category />\r\n            </div>\r\n          </Col>\r\n          <Col xs={12} md={8} lg={9}>\r\n            <div>\r\n              {products.length === 0 && productsByCategory.length !== 0 && !state && (\r\n                <ProductList products={productsByCategory} />\r\n              )}\r\n\r\n              {products.length !== 0 && productsByCategory.length !== 0 && (\r\n                <ProductList products={products} />\r\n              )}\r\n\r\n              {products.length !== 0 && !state && <ProductList products={products} />}\r\n\r\n              {products.length === 0 && state && (\r\n                <h1 className=\"text-center margin-t-3\">No Items Available </h1>\r\n              )}\r\n              {products.length === 0 && productsByCategory.length === 0 && (\r\n                <ProductList products={allProducts} />\r\n              )}\r\n              {productsByCategory.length === 0 && products.length === 0 && !state && (\r\n                <h1 className=\"text-center margin-t-3\">No Items Available </h1>\r\n              )}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"]},"metadata":{},"sourceType":"module"}