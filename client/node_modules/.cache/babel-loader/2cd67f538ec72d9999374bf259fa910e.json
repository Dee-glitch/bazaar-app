{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import axios from'axios';import EditProfile from'../components/EditProfile';import{AuthContext}from'../context/AuthContext';import{Container,Alert}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EditProfilePage=function EditProfilePage(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),userFromDB=_useState2[0],setUserFromDB=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];useEffect(function(){fetchUser();},[]);var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/users/\").concat(user._id));case 3:response=_context.sent;setUserFromDB(response.data);setIsLoading(false);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit My Profile Data\"}),isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(EditProfile,{user:userFromDB})]}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:\"You are logged out. Please log in.\"})})});};export default EditProfilePage;","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/pages/EditProfilePage.js"],"names":["React","useState","useEffect","useContext","axios","EditProfile","AuthContext","Container","Alert","EditProfilePage","user","userFromDB","setUserFromDB","isLoading","setIsLoading","fetchUser","get","process","env","REACT_APP_API_URL","_id","response","data","console","log"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,iBAAjC,C,6IAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,gBAAiBN,UAAU,CAACG,WAAD,CAA3B,CAAQI,IAAR,aAAQA,IAAR,CACA,cAAoCT,QAAQ,CAAC,EAAD,CAA5C,wCAAOU,UAAP,eAAmBC,aAAnB,eACA,eAAkCX,QAAQ,CAAC,IAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eAEAZ,SAAS,CAAC,UAAM,CACda,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,SAAS,0FAAG,sLAESX,CAAAA,KAAK,CAACY,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,iBAAzB,mBAAoDT,IAAI,CAACU,GAAzD,EAFT,QAERC,QAFQ,eAGdT,aAAa,CAACS,QAAQ,CAACC,IAAV,CAAb,CACAR,YAAY,CAAC,KAAD,CAAZ,CAJc,+EAMdS,OAAO,CAACC,GAAR,cANc,oEAAH,kBAATT,CAAAA,SAAS,0CAAf,CAUA,mBACE,yBACGL,IAAI,cACH,MAAC,SAAD,yBACE,4CADF,CAEGG,SAAS,cAAG,mCAAH,cAA2B,KAAC,WAAD,EAAa,IAAI,CAAEF,UAAnB,EAFvC,GADG,cAMH,KAAC,SAAD,wBACE,KAAC,KAAD,EAAO,OAAO,CAAC,QAAf,gDADF,EAPJ,EADF,CAcD,CAjCD,CAmCA,cAAeF,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport EditProfile from '../components/EditProfile';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Container, Alert } from 'react-bootstrap';\r\n\r\nconst EditProfilePage = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [userFromDB, setUserFromDB] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const fetchUser = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/users/${user._id}`);\r\n      setUserFromDB(response.data);\r\n      setIsLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user ? (\r\n        <Container>\r\n          <h1>Edit My Profile Data</h1>\r\n          {isLoading ? <div>Loading...</div> : <EditProfile user={userFromDB} />}\r\n        </Container>\r\n      ) : (\r\n        <Container>\r\n          <Alert variant=\"danger\">You are logged out. Please log in.</Alert>\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfilePage;\r\n"]},"metadata":{},"sourceType":"module"}