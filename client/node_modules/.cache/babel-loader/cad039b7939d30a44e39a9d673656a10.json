{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import Payment from'../components/Payment';import React,{useEffect,useState}from'react';import{Row,Col,Card,Image}from'react-bootstrap';import AddressesDropdown from'../components/AddressesDropdown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Checkout=function Checkout(prop){var product=prop.location.state;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),seller=_useState2[0],setSeller=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),shippingAddress=_useState4[0],setShippingAddress=_useState4[1];var getShippingAddress=function getShippingAddress(address){return setShippingAddress(address);};useEffect(function(){return fetchSellerData();},[]);var fetchSellerData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/users/\").concat(product.user));case 3:response=_context.sent;setSeller(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchSellerData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Row,{style:{margin:'auto'},children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsxs(Card,{style:cardStyles,children:[/*#__PURE__*/_jsx(Card.Header,{children:product.title}),/*#__PURE__*/_jsxs(Card.Body,{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Col,{xs:6,md:4,children:/*#__PURE__*/_jsx(Image,{thumbnail:true,alt:\"Product Image\",src:product.images[0],style:{width:'100%',borderRadius:'0.5rem'}})}),/*#__PURE__*/_jsxs(Card,{style:{border:'0',textAlign:'center',marginLeft:'10px'},children:[/*#__PURE__*/_jsxs(Card.Title,{children:[product.price,\" \\u20AC\"]}),/*#__PURE__*/_jsx(Card.Title,{children:product.description})]})]})]}),/*#__PURE__*/_jsx(AddressesDropdown,{getShippingAddress:getShippingAddress}),/*#__PURE__*/_jsxs(Card,{style:cardStyles,children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Credit Card Info\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Payment,{product:product,shippingAddress:shippingAddress})})]})]}),/*#__PURE__*/_jsxs(Col,{style:{textAlign:'center',paddingTop:'10rem'},md:4,children:[/*#__PURE__*/_jsx(Image,{thumbnail:true,alt:\"User image\",src:seller.avatar||'https://static.zooniverse.org/www.zooniverse.org/assets/simple-avatar.png',style:{padding:'5px',width:'10rem',height:'10rem',borderRadius:'1rem',border:'1px solid var(--color-main)'}}),/*#__PURE__*/_jsxs(Card.Title,{children:[seller.first_name,\" \",seller.last_name]})]})]});};var cardStyles={marginBottom:'10px',borderColor:'var(--color-main)'};export default Checkout;","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/pages/Checkout.js"],"names":["axios","Payment","React","useEffect","useState","Row","Col","Card","Image","AddressesDropdown","Checkout","prop","product","location","state","seller","setSeller","shippingAddress","setShippingAddress","getShippingAddress","address","fetchSellerData","get","process","env","REACT_APP_API_URL","user","response","data","console","log","margin","cardStyles","title","display","alignItems","images","width","borderRadius","border","textAlign","marginLeft","price","description","paddingTop","avatar","padding","height","first_name","last_name","marginBottom","borderColor"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport Payment from '../components/Payment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Row, Col, Card, Image } from 'react-bootstrap';\r\nimport AddressesDropdown from '../components/AddressesDropdown';\r\n\r\nconst Checkout = (prop) => {\r\n  const product = prop.location.state;\r\n\r\n  const [seller, setSeller] = useState([]);\r\n  const [shippingAddress, setShippingAddress] = useState(null);\r\n\r\n  const getShippingAddress = (address) => setShippingAddress(address);\r\n\r\n  useEffect(() => fetchSellerData(), []);\r\n\r\n  const fetchSellerData = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/users/${product.user}`);\r\n\r\n      setSeller(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row style={{ margin: 'auto' }}>\r\n      <Col md={8}>\r\n        <Card style={cardStyles}>\r\n          <Card.Header>{product.title}</Card.Header>\r\n\r\n          <Card.Body style={{ display: 'flex', alignItems: 'center' }}>\r\n            <Col xs={6} md={4}>\r\n              <Image\r\n                thumbnail\r\n                alt=\"Product Image\"\r\n                src={product.images[0]}\r\n                style={{ width: '100%', borderRadius: '0.5rem' }}\r\n              />\r\n            </Col>\r\n\r\n            <Card style={{ border: '0', textAlign: 'center', marginLeft: '10px' }}>\r\n              <Card.Title>{product.price} â‚¬</Card.Title>\r\n              <Card.Title>{product.description}</Card.Title>\r\n            </Card>\r\n          </Card.Body>\r\n        </Card>\r\n\r\n        {/* get it from the child component (AddressesDropdown) */}\r\n        <AddressesDropdown getShippingAddress={getShippingAddress} />\r\n\r\n        <Card style={cardStyles}>\r\n          <Card.Header>Credit Card Info</Card.Header>\r\n\r\n          <Card.Body>\r\n            <Payment product={product} shippingAddress={shippingAddress} />\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>\r\n\r\n      <Col style={{ textAlign: 'center', paddingTop: '10rem' }} md={4}>\r\n        <Image\r\n          thumbnail\r\n          alt=\"User image\"\r\n          src={\r\n            seller.avatar ||\r\n            'https://static.zooniverse.org/www.zooniverse.org/assets/simple-avatar.png'\r\n          }\r\n          style={{\r\n            padding: '5px',\r\n            width: '10rem',\r\n            height: '10rem',\r\n            borderRadius: '1rem',\r\n            border: '1px solid var(--color-main)',\r\n          }}\r\n        />\r\n\r\n        <Card.Title>\r\n          {seller.first_name} {seller.last_name}\r\n        </Card.Title>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nconst cardStyles = {\r\n  marginBottom: '10px',\r\n  borderColor: 'var(--color-main)',\r\n};\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}