{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{AuthContext}from'../context/AuthContext';import{Card,Button}from'react-bootstrap';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favorites=function Favorites(){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap justify-content-center\",children:currentUser.favorites.map(function(favorite){return/*#__PURE__*/_jsx(FaveList,{favorite:favorite},favorite);})});};var FaveList=function FaveList(favorite){var _useState=useState(),_useState2=_slicedToArray(_useState,2),fave=_useState2[0],setFave=_useState2[1];var _useContext2=useContext(AuthContext),user=_useContext2.user,currentUser=_useContext2.currentUser;var _useContext3=useContext(AuthContext),deleteFavorite=_useContext3.deleteFavorite;useEffect(function(){fetchFave(favorite.favorite);},[favorite]);function fetchFave(_x){return _fetchFave.apply(this,arguments);}function _fetchFave(){_fetchFave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(favorite){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/products/\").concat(favorite));case 3:response=_context.sent;setFave(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _fetchFave.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:fave&&/*#__PURE__*/_jsx(Card,{className:\"m-3\",style:{width:'15rem'},children:/*#__PURE__*/_jsxs(Card.Body,{style:{color:'teal'},children:[/*#__PURE__*/_jsxs(Link,{to:\"/\".concat(fave._id),style:{textDecoration:'none'},children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:fave.images,style:{height:'200px',objectFit:'cover',objectPosition:'center'}}),/*#__PURE__*/_jsx(Card.Title,{children:fave.title}),/*#__PURE__*/_jsxs(Card.Text,{children:[fave.price,\" \\u20AC\"]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"danger\",onClick:function onClick(){deleteFavorite(currentUser,fave._id);},children:\"Delete\"})]})},fave._id)});};export default Favorites;","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/components/Favorites.js"],"names":["React","useContext","useState","useEffect","AuthContext","Card","Button","Link","axios","Favorites","currentUser","favorites","map","favorite","FaveList","fave","setFave","user","deleteFavorite","fetchFave","get","process","env","REACT_APP_API_URL","response","data","console","log","width","color","_id","textDecoration","images","height","objectFit","objectPosition","title","price"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,gBAAwBR,UAAU,CAACG,WAAD,CAAlC,CAAQM,WAAR,aAAQA,WAAR,CAEA,mBACE,YAAK,SAAS,CAAC,yCAAf,UACGA,WAAW,CAACC,SAAZ,CAAsBC,GAAtB,CAA0B,SAACC,QAAD,qBACzB,KAAC,QAAD,EAAyB,QAAQ,CAAEA,QAAnC,EAAeA,QAAf,CADyB,EAA1B,CADH,EADF,CAOD,CAVD,CAYA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACD,QAAD,CAAc,CAC7B,cAAwBX,QAAQ,EAAhC,wCAAOa,IAAP,eAAaC,OAAb,eACA,iBAA8Bf,UAAU,CAACG,WAAD,CAAxC,CAAQa,IAAR,cAAQA,IAAR,CAAcP,WAAd,cAAcA,WAAd,CACA,iBAA2BT,UAAU,CAACG,WAAD,CAArC,CAAQc,cAAR,cAAQA,cAAR,CAEAf,SAAS,CAAC,UAAM,CACdgB,SAAS,CAACN,QAAQ,CAACA,QAAV,CAAT,CACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAL6B,QASdM,CAAAA,SATc,uIAS7B,iBAAyBN,QAAzB,qKAE2BL,CAAAA,KAAK,CAACY,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,iBAAzB,sBAAuDV,QAAvD,EAF3B,QAEUW,QAFV,eAGIR,OAAO,CAACQ,QAAQ,CAACC,IAAV,CAAP,CAHJ,+EAKIC,OAAO,CAACC,GAAR,cALJ,oEAT6B,4CAkB7B,mBACE,qBACGZ,IAAI,eACH,KAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,CAAsB,KAAK,CAAE,CAAEa,KAAK,CAAE,OAAT,CAA7B,uBACE,MAAC,IAAD,CAAM,IAAN,EAAW,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAlB,wBACE,MAAC,IAAD,EAAM,EAAE,YAAMd,IAAI,CAACe,GAAX,CAAR,CAA0B,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAlB,CAAjC,wBACE,KAAC,IAAD,CAAM,GAAN,EACE,OAAO,CAAC,KADV,CAEE,GAAG,CAAEhB,IAAI,CAACiB,MAFZ,CAGE,KAAK,CAAE,CACLC,MAAM,CAAE,OADH,CAELC,SAAS,CAAE,OAFN,CAGLC,cAAc,CAAE,QAHX,CAHT,EADF,cAUE,KAAC,IAAD,CAAM,KAAN,WAAapB,IAAI,CAACqB,KAAlB,EAVF,cAWE,MAAC,IAAD,CAAM,IAAN,YAAYrB,IAAI,CAACsB,KAAjB,aAXF,GADF,cAcE,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAC,QAFV,CAGE,OAAO,CAAE,kBAAM,CACbnB,cAAc,CAACR,WAAD,CAAcK,IAAI,CAACe,GAAnB,CAAd,CACD,CALH,oBAdF,GADF,EAAsDf,IAAI,CAACe,GAA3D,CAFJ,EADF,CAgCD,CAlDD,CAoDA,cAAerB,CAAAA,SAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Favorites = () => {\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"d-flex flex-wrap justify-content-center\">\r\n      {currentUser.favorites.map((favorite) => (\r\n        <FaveList key={favorite} favorite={favorite} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst FaveList = (favorite) => {\r\n  const [fave, setFave] = useState();\r\n  const { user, currentUser } = useContext(AuthContext);\r\n  const { deleteFavorite } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    fetchFave(favorite.favorite);\r\n  }, [favorite]);\r\n\r\n  async function fetchFave(favorite) {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/products/${favorite}`);\r\n      setFave(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {fave && (\r\n        <Card className=\"m-3\" style={{ width: '15rem' }} key={fave._id}>\r\n          <Card.Body style={{ color: 'teal' }}>\r\n            <Link to={`/${fave._id}`} style={{ textDecoration: 'none' }}>\r\n              <Card.Img\r\n                variant=\"top\"\r\n                src={fave.images}\r\n                style={{\r\n                  height: '200px',\r\n                  objectFit: 'cover',\r\n                  objectPosition: 'center',\r\n                }}\r\n              />\r\n              <Card.Title>{fave.title}</Card.Title>\r\n              <Card.Text>{fave.price} â‚¬</Card.Text>\r\n            </Link>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"danger\"\r\n              onClick={() => {\r\n                deleteFavorite(currentUser, fave._id);\r\n              }}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </Card.Body>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favorites;\r\n"]},"metadata":{},"sourceType":"module"}