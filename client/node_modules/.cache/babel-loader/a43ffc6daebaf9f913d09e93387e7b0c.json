{"ast":null,"code":"import _objectSpread from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import Uploader from'./Uploader';import{AuthContext}from'../context/AuthContext';import{Form,Card,Container}from'react-bootstrap';import{Multiselect}from'multiselect-react-dropdown';import React,{useState,useEffect,useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProduct=function AddProduct(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState({city:'',price:'',title:'',condition:'',user:user._id,categories:[],description:''}),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];useEffect(function(){fetchCategories();document.getElementById('add-product-link').style.display='none';},[]);var fetchCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,categoryList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/categories\"));case 3:response=_context.sent;categoryList=response.data.map(function(category){return category.name;});setCategories(categoryList);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchCategories(){return _ref.apply(this,arguments);};}();var handleCityChange=function handleCityChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{city:e.target.value}));};var handleTitleChange=function handleTitleChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{title:e.target.value}));};var handlePriceChange=function handlePriceChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{price:Number(e.target.value)}));};var handleConditionChange=function handleConditionChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{condition:e.target.value}));};var handleDescriptionChange=function handleDescriptionChange(e){return setValues(_objectSpread(_objectSpread({},values),{},{description:e.target.value}));};return/*#__PURE__*/_jsx(Container,{className:\"d-flex align-items-center justify-content-center \",style:{minHeight:'75vh'},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{style:{width:'22rem'},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{className:\"text-center mb-4\",children:\"Add Product\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",name:\"title\",placeholder:\"Title\",value:values.title,onChange:handleTitleChange})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{min:\"0\",required:true,step:\"any\",name:\"price\",type:\"number\",placeholder:\"Price\",value:values.price,onChange:handlePriceChange})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Check,{value:\"new\",label:\"New\",type:\"radio\",name:\"condition\",onClick:handleConditionChange}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",value:\"like new\",label:\"Like new\",name:\"condition\",onClick:handleConditionChange}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",name:\"condition\",value:\"fairly used\",label:\"Fairly used\",onClick:handleConditionChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",name:\"city\",placeholder:\"City\",value:values.city,onChange:handleCityChange})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",as:\"textarea\",name:\"description\",placeholder:\"Description\",value:values.description,style:{height:'100px'},onChange:handleDescriptionChange})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Multiselect,{isObject:false,options:categories,placeholder:\"Categories\",avoidHighlightFirstOption:true,onSelect:function onSelect(selected){return values.categories=selected;},style:{chips:{background:'var(--color-main)'},optionContainer:{borderRadius:'.5rem'}}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Uploader,{data:values})]})]})})})});};export default AddProduct;","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/components/AddProduct.js"],"names":["axios","Uploader","AuthContext","Form","Card","Container","Multiselect","React","useState","useEffect","useContext","AddProduct","user","categories","setCategories","city","price","title","condition","_id","description","values","setValues","fetchCategories","document","getElementById","style","display","get","process","env","REACT_APP_API_URL","response","categoryList","data","map","category","name","console","error","handleCityChange","e","target","value","handleTitleChange","handlePriceChange","Number","handleConditionChange","handleDescriptionChange","minHeight","width","preventDefault","height","selected","chips","background","optionContainer","borderRadius"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport Uploader from './Uploader';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Form, Card, Container } from 'react-bootstrap';\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\nimport React, { useState, useEffect, useContext } from 'react';\r\n\r\nconst AddProduct = () => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [values, setValues] = useState({\r\n    city: '',\r\n    price: '',\r\n    title: '',\r\n    condition: '',\r\n    user: user._id,\r\n    categories: [],\r\n    description: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n    document.getElementById('add-product-link').style.display = 'none';\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/categories`);\r\n      const categoryList = response.data.map((category) => category.name);\r\n\r\n      setCategories(categoryList);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleCityChange = (e) => setValues({ ...values, city: e.target.value });\r\n  const handleTitleChange = (e) => setValues({ ...values, title: e.target.value });\r\n  const handlePriceChange = (e) => setValues({ ...values, price: Number(e.target.value) });\r\n  const handleConditionChange = (e) => setValues({ ...values, condition: e.target.value });\r\n  const handleDescriptionChange = (e) => setValues({ ...values, description: e.target.value });\r\n\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center \"\r\n      style={{ minHeight: '75vh' }}\r\n    >\r\n      <div>\r\n        <Card style={{ width: '22rem' }}>\r\n          <Card.Body>\r\n            <Card.Title className=\"text-center mb-4\">Add Product</Card.Title>\r\n            <Form onSubmit={(e) => e.preventDefault()}>\r\n              <Form.Group>\r\n                <Form.Control\r\n                  required\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  placeholder=\"Title\"\r\n                  value={values.title}\r\n                  onChange={handleTitleChange}\r\n                />\r\n              </Form.Group>\r\n              <br />\r\n\r\n              <Form.Group>\r\n                <Form.Control\r\n                  min=\"0\"\r\n                  required\r\n                  step=\"any\"\r\n                  name=\"price\"\r\n                  type=\"number\"\r\n                  placeholder=\"Price\"\r\n                  value={values.price}\r\n                  onChange={handlePriceChange}\r\n                />\r\n              </Form.Group>\r\n              <br />\r\n\r\n              <Form.Check\r\n                value=\"new\"\r\n                label=\"New\"\r\n                type=\"radio\"\r\n                name=\"condition\"\r\n                onClick={handleConditionChange}\r\n              />\r\n\r\n              <Form.Check\r\n                type=\"radio\"\r\n                value=\"like new\"\r\n                label=\"Like new\"\r\n                name=\"condition\"\r\n                onClick={handleConditionChange}\r\n              />\r\n\r\n              <Form.Check\r\n                type=\"radio\"\r\n                name=\"condition\"\r\n                value=\"fairly used\"\r\n                label=\"Fairly used\"\r\n                onClick={handleConditionChange}\r\n              />\r\n              <br />\r\n\r\n              <Form.Group>\r\n                <Form.Control\r\n                  required\r\n                  type=\"text\"\r\n                  name=\"city\"\r\n                  placeholder=\"City\"\r\n                  value={values.city}\r\n                  onChange={handleCityChange}\r\n                />\r\n              </Form.Group>\r\n              <br />\r\n\r\n              <Form.Group>\r\n                <Form.Control\r\n                  required\r\n                  type=\"text\"\r\n                  as=\"textarea\"\r\n                  name=\"description\"\r\n                  placeholder=\"Description\"\r\n                  value={values.description}\r\n                  style={{ height: '100px' }}\r\n                  onChange={handleDescriptionChange}\r\n                />\r\n              </Form.Group>\r\n              <br />\r\n\r\n              <Multiselect\r\n                isObject={false}\r\n                options={categories}\r\n                placeholder=\"Categories\"\r\n                avoidHighlightFirstOption={true}\r\n                onSelect={(selected) => (values.categories = selected)}\r\n                style={{\r\n                  chips: { background: 'var(--color-main)' },\r\n                  optionContainer: {\r\n                    borderRadius: '.5rem',\r\n                  },\r\n                }}\r\n              />\r\n              <br />\r\n\r\n              <Uploader data={values} />\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n"]},"metadata":{},"sourceType":"module"}