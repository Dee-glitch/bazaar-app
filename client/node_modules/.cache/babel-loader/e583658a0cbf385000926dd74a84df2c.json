{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dee/Desktop/test-deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import ProductList from'./ProductList';import{jsx as _jsx}from\"react/jsx-runtime\";var SimilarProducts=function SimilarProducts(_ref){var product=_ref.product;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var category=product.categories[0].name;useEffect(function(){fetchData();},[product]);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/products\"));case 3:response=_context.sent;setProducts(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _fetchData.apply(this,arguments);}var similarProducts=products.filter(function(similarProduct){return similarProduct.categories[0].name===category&&similarProduct._id!==product._id;});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ProductList,{products:similarProducts})});};export default SimilarProducts;","map":{"version":3,"sources":["C:/Users/Dee/Desktop/test-deploy/client/src/components/SimilarProducts.js"],"names":["React","useEffect","useState","axios","ProductList","SimilarProducts","product","products","setProducts","category","categories","name","fetchData","get","process","env","REACT_APP_API_URL","response","data","console","log","similarProducts","filter","similarProduct","_id"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,2CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACvC,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGH,OAAO,CAACI,UAAR,CAAmB,CAAnB,EAAsBC,IAAvC,CAEAV,SAAS,CAAC,UAAM,CACdW,SAAS,GACV,CAFQ,CAEN,CAACN,OAAD,CAFM,CAAT,CAJuC,QAQxBM,CAAAA,SARwB,qIAQvC,sLAE2BT,CAAAA,KAAK,CAACU,GAAN,WAAaC,OAAO,CAACC,GAAR,CAAYC,iBAAzB,cAF3B,QAEUC,QAFV,eAGIT,WAAW,CAACS,QAAQ,CAACC,IAAV,CAAX,CAHJ,+EAKIC,OAAO,CAACC,GAAR,cALJ,oEARuC,4CAgBvC,GAAMC,CAAAA,eAAe,CAAGd,QAAQ,CAACe,MAAT,CAAgB,SAACC,cAAD,CAAoB,CAC1D,MAAOA,CAAAA,cAAc,CAACb,UAAf,CAA0B,CAA1B,EAA6BC,IAA7B,GAAsCF,QAAtC,EAAkDc,cAAc,CAACC,GAAf,GAAuBlB,OAAO,CAACkB,GAAxF,CACD,CAFuB,CAAxB,CAIA,mBACE,kCACE,KAAC,WAAD,EAAa,QAAQ,CAAEH,eAAvB,EADF,EADF,CAKD,CAzBD,CA0BA,cAAehB,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport ProductList from './ProductList';\r\n\r\nconst SimilarProducts = ({ product }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const category = product.categories[0].name;\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [product]);\r\n\r\n  async function fetchData() {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/products`);\r\n      setProducts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  const similarProducts = products.filter((similarProduct) => {\r\n    return similarProduct.categories[0].name === category && similarProduct._id !== product._id;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <ProductList products={similarProducts} />\r\n    </div>\r\n  );\r\n};\r\nexport default SimilarProducts;\r\n"]},"metadata":{},"sourceType":"module"}